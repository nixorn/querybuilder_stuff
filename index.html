<html>
  <head>

    <link href="./query-builder.default.min.css" rel="stylesheet">
    <link href="./query-builder.default.min.css" rel="stylesheet">
    <link href="./custom.css" rel="stylesheet">

    <script src="./jquery-3.1.0.min.js"></script>
    <script src="./jQuery.extendext.min.js"></script>
    <script src="./doT.min.js"></script>
    <script src="./moment.min.js"></script>
    <script src="./query-builder.min.js"></script>
  </head>

  <body>
    <button class="btn btn-primary parse-json">Download JSON</button>
    <div id="builder"></div>
    <script>
      $('#builder').queryBuilder({
      filters: [{
      id: 'has_tag',
      label: 'Has Tag',
      type: 'integer',
      input: 'select',
      operators: ['equal'],
      values:{1:'tag1', 2:'tag2', 3:'tag3', 4:'tag4', 5:'tag5'},
      optgroup:'User Tags'      
      },{
      id: 'has_not_tag',
      label: 'Has Not Tag',
      type: 'integer',
      input: 'select',
      operators: ['equal'],
      values:{1:'tag1', 2:'tag2', 3:'tag3', 4:'tag4', 5:'tag5'},
      optgroup:'User Tags'
      }
      ]
      });
$('.parse-json').on('click', function() {
      var data = $('#builder').queryBuilder('getRules', {get_flags: true});
      var url = 'data:text/json;charset=utf8,' + encodeURIComponent(JSON.stringify(data));
      window.open(url, '_blank');
      window.focus();
});

    </script>
  </body>
</html>
